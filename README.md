# Finds minimal path from a to b with given operations
## 1. First task
Даны два целых числа – например, 2 и 100, а также две операции – «прибавить 3» и «умножить на 2». Найти минимальную последовательность операций, позволяющую получить из первого числа второе.
### Running examples

For `a = 2` and `b = 100`:
```bash
$  python3 straight.py
Input a: 2
Input b: 100
find_leaf executes in 0.0001819133758544922s
[=2, *2=4, *2=8, +3=11, *2=22, +3=25, *2=50, *2=100]
```

For `a = 2` and `b = 1000000`:
```bash
$  python3 straight.py
Input a: 2
Input b: 1000000
find_leaf executes in 0.2798781394958496s
[=2, +3=5, *2=10, +3=13, *2=26, +3=29, *2=58, +3=61, *2=122, *2=244, *2=488,
 *2=976, *2=1952, *2=3904, *2=7808, +3=7811, *2=15622, +3=15625, *2=31250,
 *2=62500, *2=125000, *2=250000, *2=500000, *2=1000000]
```

## 2. Second task
То же самое, что и в пункте 1, однако добавляется операция «вычесть 2».
### Running examples
For `a = 2` and `b = 1000000`:
```bash
$  python straight_three_ops.py
Input a: 2
Input b: 1000000
find_leaf executes in 0.9654350280761719s
[=2, *2=4, *2=8, *2=16, *2=32, *2=64, -2=62, *2=124, -2=122, *2=244,
 *2=488, *2=976, *2=1952, *2=3904, *2=7808, +3=7811, *2=15622, +3=15625,
 *2=31250, *2=62500, *2=125000, *2=250000, *2=500000, *2=1000000]
```

## 3. Third task
Реализовать задание из пункта 1 методом обратного поиска – от целевого состояния к начальному. Сравнить эффективность.


### Running examples
#### Two operations
It's works a lot faster:

For `a = 1e101`:
```bash
$ python3 backway.py
Input a: 100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Input b: 2
find_leaf executes in 0.011625051498413086s
```
Output is too long.

#### Three operations
For `a = 1e101`:
```bash
$ python3 backway_three_ops.py
Input a: 100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
Input b: 2
find_leaf executes in 0.02388310432434082s
```
Output is too long.

## 4. Extra task
Дополнительное задание. Реализовать метод двунаправленного поиска для решения задачи из пункта 1.

### Running examples
### Two operations
For `a = 1e101`:
```bash
$  python3 twoway.py
Input a: 2
Input b: 100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
find_leaf executes in 0.014046907424926758s
```
Output is too long.

### Three operations
For `a = 1e101`:
```bash
$  python3 twoway_three_ops.py
Input a: 2
Input b: 100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
find_leaf executes in 0.021856069564819336s
```
Output is too long.

# Benchmarks

| algorithm | operations | a   | b   | time(s) | visited nodes | way lenght |
| --------- | ---------- | --- | --- | ------- | ------------- |--|
| straight  |*2, +3|2| 10^6| 0.283 | 181523  | 24 |
| straight  |*2, +3, -2|2| 10^6|0.965 |521620 | 24 |
| backway   |*2, +3|2| 10^6| 0.0007 | 234 | 24 |
| backway   |*2, +3, -2|2| 10^6| 0.0025 | 1080 | 24 |
| bidirectional   |*2, +3|2| 10^6| 0.001 | 235 | 24 |
| bidirectional   |*2, +3, -2|2| 10^6| 0.002 | 1036 | 24 |
| straight  |*2, +3|2| 10^7| 17.74 | 8001423  | 29 |
| backway   |*2, +3, -2|2| 10^42| 0.021 | 9321 | 152 |
| bidirectional   |*2, +3, -2|2| 10^42| 0.018 | 8967 | 152 |
| bidirectional   |*2, +5, *3, -7, +3, -2|2| 10^101 | 0.443 | 157008 | 330 |


# Conclusion
Обратный поиск очень ускорил процесс. Наверное, потому что я отсекаю ветки, если число не делится на 2, при попытке добавить новый лист. 
Двунаправленный поиск тоже ускорил алгоритм, но не так значительно, как обратный. Попробовал запустить на максимальном инте:

```bash
$  python3 twoway_three_ops.py
Input a: 2
Input b: 100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
find_leaf executes in 0.0292360782623291s
```

Отработало очень быстро, поэтому затрагиваются сомнения.